<!--suppress ALL -->
<script setup lang="ts">
import AlertDisplay from '@/components/AlertDisplay.vue'
import { storeToRefs } from 'pinia'
import { useMainStore } from '@/stores/main'
import { RouterLink } from 'vue-router'
import router from '@/router'
import axios from 'axios'

const { ssot, loading } = storeToRefs(useMainStore())

const { getHomeContent } = useMainStore()
const { setHomePageFlag } = useMainStore()

setHomePageFlag(true)
let navItems = router.getRoutes()
</script>

<template>
  <main v-if="!loading">
    <div class="container-sm container">
      <alert-display page-id="home" class="mt-3"></alert-display>

      <div class="row justify-content-center" v-if="getHomeContent">
        <div class="col-sm-12 col-md-6 text-center mt-5">
          <hr class="nws" />
          <h1 class="text-white text-uppercase ">
            {{ getHomeContent.title }}
          </h1>
          <h3 class="text-info">
            {{ getHomeContent.subtitle }}
          </h3>

          <hr class="mountain opacity-100" />

          <RouterLink
            v-for="item in navItems"
            class="btn btn-link btn-lg text-capitalize m-2 "
            :to="item.path"
          >
            {{ item.name }}
          </RouterLink>
          <hr class="mb-5" />
          <p
            v-for="(highlights, index) in getHomeContent.highlights"
            :class="'fs-' + (index + 1)"
            class="text-white p-0 m-0 "
          >
            {{ highlights }}
          </p>

          <hr class="mt-5" />
          <div class="text-center ">
            <a
              class="btn btn-link m-2 btn"
              v-for="(contactItem, index) in getHomeContent.contacts"
              :href="contactItem.value"
              target="_blank"
            >
              <i :class="contactItem.icon"></i><br />
              <span class="small text-uppercase">{{ contactItem.name }}</span>
            </a>
          </div>

          <hr class="mb-5" />
          <div
            class="mb-1 text-white "
            v-for="(infoItem, index) in getHomeContent.info"
            :key="index"
          >
            <p class="fs-4 p-0 m-0">{{ infoItem.title }} {{ infoItem.value }}</p>
          </div>

          <hr class=" mt-5" />
          <a
            class="btn btn-lg btn-link shadow mb-5"
            href="./gabor-eszaki_cv-2023_rev_1-1.pdf"
            target="_blank"
          >
            PDF version of this CV <br />
            <span class="text-info"> Download <i class="bi bi-download"></i> </span>
          </a>
        </div>
      </div>
    </div>
  </main>
</template>
