<script setup lang="ts">
import AlertDisplay from '@/components/AlertDisplay.vue'
import { storeToRefs } from 'pinia'
import { useMainStore } from '@/stores/main'
import { RouterLink } from 'vue-router'
import router from '@/router'

const { ssot, loading } = storeToRefs(useMainStore())

const { getHomeContent } = useMainStore()
const { setHomePageFlag } = useMainStore()

setHomePageFlag(true)
let navItems = router.getRoutes()
</script>

<template>
  <main v-if="!loading">
    <div class="container-sm container">
      <!--      <alert-display page-id="home" class="mt-3"></alert-display>-->

      <div class="row justify-content-center" v-if="getHomeContent">
        <div class="col-sm-12 col-md-6 text-center mt-5">
          <h1 class="text-white text-uppercase animate__animated animate__backInTop del-0-8">
            {{ getHomeContent.title }}
          </h1>
          <h3 class="text-info animate__animated animate__backInTop del-0-9">
            {{ getHomeContent.subtitle }}
          </h3>

          <hr class="nws animate__animated animate__fadeIn del-0-4" />

          <p
            v-for="(highlights, index) in getHomeContent.highlights"
            :class="'fs-' + (index + 1)"
            class="text-white p-0 m-0 animate__animated animate__backInLeft del-1-0"
          >
            {{ highlights }}
          </p>

          <hr class="mountain animate__animated animate__fadeIn del-0-2" />

          <RouterLink
            v-for="item in navItems"
            class="btn btn-link btn-lg text-capitalize m-2 animate__animated animate__backInRight del-1-1"
            :to="item.path"
          >
            {{ item.name }}
          </RouterLink>
          <hr class="animate__animated animate__fadeIn del-0-4" />
          <button
            class="btn btn-lg btn-primary shadow animate__animated animate__backInLeft del-1-2"
          >
            Download CV <i class="bi bi-filetype-pdf"></i>
          </button>
          <hr class="animate__animated animate__fadeIn del-0-4" />
          <div class="text-center animate__animated animate__backInRight del-1-3">
            <a
              class="btn btn-dark m-2 btn-sm"
              v-for="(contactItem, index) in getHomeContent.contacts"
              :href="contactItem.value"
              target="_blank"
            >
              <i :class="contactItem.icon"></i>
            </a>
          </div>

          <hr class="animate__animated animate__fadeIn del-0-4" />

          <div
            class="mb-1 text-white animate__animated animate__backInLeft del-1-4"
            v-for="(infoItem, index) in getHomeContent.info"
            :key="index"
          >
            <p class="fs-4 p-0 m-0">{{ infoItem.title }} {{ infoItem.value }}</p>
          </div>
        </div>
      </div>
    </div>
  </main>
</template>
