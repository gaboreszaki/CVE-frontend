<script setup lang="ts">
import { useMainStore } from '@/stores/main'

import LastEmployerCard from '../components/LastEmployerCard.vue'
import EmployerCard from '../components/EmployerCard.vue'
import Alerts from '@/components/Alerts.vue'
import { storeToRefs } from 'pinia'
import AlertDisplay from '@/components/AlertDisplay.vue'

const { ssot } = storeToRefs(useMainStore())

const { lastEmployer, pastEmployers } = useMainStore()
</script>

<template>
  <div class="container-sm container" v-if="ssot.data">
    <alert-display page-id="history" class="mt-3"></alert-display>
    <div class="row" v-if="lastEmployer">
      <div class="col-12 mt-3 mb-3">
        <LastEmployerCard :card-content="lastEmployer"></LastEmployerCard>
      </div>
    </div>
    <div class="row row-cols-sm-1 row-cols-md-2 row-cols-lg-3" v-if="pastEmployers">
      <employer-card
        :key="index"
        :card-content="employer"
        v-for="(employer, index) in pastEmployers"
        class="animate__animated animate__slideInLeft"
        :class="'del-0-' + index"
      />
    </div>
  </div>
</template>
<script lang="ts"></script>
